# 了解函数式编程

> 函数的第一原则是要小，函数的第二原则是要更小

## 什么是函数式编程？为什么他重要
在理解什么是函数式编程的开始，我们先了解下什么数学中，函数具有的特性
- 函数必须总是接受一个参数
- 函数必须总是返回一个值
- 函数应该依据接受到的参数，而不是外部的环境运行
- 对于一个指定的x，必须返回一个确定的y

所以我们说，函数式编程是一种范式，我们能够以此创建仅依赖输入就可以完成自身逻辑的函数。这保证了当函数多次调用时，依然可以返回相同的结果。因此可以产生可缓存的、可测试的代码库

## 引用透明
所有的函数对于相同的输入都返回相同的结构，这一特性，我们称之为引用透明。
比如：
```
let identity = (i) => {return i};
```
这么简单？对，其实就是这样，也就是说他没有依赖任何外部变量、外部环境，只要你给我东西，我经过一顿鼓捣，总是给你返回你所能预测的结果。

这也为我们后面的并发代码、缓存成为可能。

## 命令式、声明式和抽象
函数式编程主张声明式编程和编写抽象代码。其实这个比较有意思，感觉更像是面向对象的编程。

光说不练都是扯淡。举个栗子

```
  var array = [1,2,3,4,5,6];
  for(let i = 0;i<array.length;i++){
    console.log(array[i])
  }
```
这段代码的作用简单明了，就是遍历！但是你有没有感觉这个代码呆呆的。没有一丁点的灵气？都是我告诉你该怎么该怎么做的。我们告诉编译器，你先去获取下数组的长度的，然后挨个log出来。这种编码方式，我们通常称之为“命令式”解决方案。

而在函数式编程中，我们其实更加主张用“声明式”解决方案

```
let array = [1,2,3,4,5,6];
array.forEach(item=>{console.log(item)})
```
简单体会下，是不是有那么一丢丢的灵感来了？等等，你这个forEach函数哪来的嘛！对，也是自己写的，但是不是我们通过编写这种抽象逻辑代码，而让整体的业务代码更加的清晰明了了呢？开发者是需要关心手头上的问题就好了，只需要告诉编译器去干嘛而不是怎么干了。是不是轻松了？

其实函数式编程主张的就是以抽象的方式创建函数。这些函数可以在代码的其他部分被重用。

## 函数式编程的好处
好处个人不喜欢扯太多，不是因为他没有好处，而是对于刚刚接触函数式编程的哥们，上来就说好处其实是没什么概念的，所以这里我简单提一提，后面文章会细细说明。

## 纯函数 => 可缓存
熟悉redux的同学应该对这个词语都不陌生，所谓的纯函数，其实也就是我们说的引用透明，稳定输出！好处呢？可预测嘛，容易编写测试代码哇，可缓存嘛。什么是可缓存？可以看我之前发的文章哈，这里简单举个栗子
```
let longRunningFunction = (input)=>{
  //进行了非常麻烦的计算，然后返回出来结果
  return output;
}
```
如果longRunningFunction是一个纯函数，引用透明。我们就可以说对于同样的输出，总是返回同样的结果，所以我们为什么不能够运用一个对象将我们每一次的运算结果存起来呢？
```
let longRunningFunctionResult = {1:2,2:3,3:4};
//检查key是否存在，存在直接用，不存在再计算
longRunningFunctionResult.hasOwnProperty(input)?longRunningFunctionResult[input]:longRunningFunctionResult[input] = longRunningFunction(input)
```

比较直观。不多说了哈。其实好处还有之前说到的并发。不说的这么冠冕堂皇了，啥并不并发呀，我不依赖别人的任何因素，只依据你的输出我产出。你说我支持什么就是什么咯，只要你给我对的参数传进来就可以了。

## 结束语

匆匆收尾！仅作为抛砖引玉。后面咱们在系统性的学习下函数式编程。


